# Configuración de caché para Law Analytics
# Copiar este contenido en la configuración de nginx del servidor

location / {
    root /var/www/law-analytics-front/build;
    try_files $uri /index.html;
    
    # HTML files - no cache
    location ~ \.html$ {
        add_header Cache-Control "no-cache, no-store, must-revalidate";
        add_header Pragma "no-cache";
        add_header Expires "0";
    }
    
    # Service Worker - no cache
    location = /sw.js {
        add_header Cache-Control "no-cache, no-store, must-revalidate";
        add_header Pragma "no-cache";
        add_header Expires "0";
    }
    
    # Assets with hash in filename - cache for 1 year
    location /assets/ {
        add_header Cache-Control "public, max-age=31536000, immutable";
    }
    
    # Images and fonts - cache for 1 month
    location ~* \.(jpg|jpeg|png|gif|ico|svg|woff|woff2|ttf|eot)$ {
        add_header Cache-Control "public, max-age=2592000";
    }
    
    # JSON and other data files - short cache
    location ~* \.(json|xml)$ {
        add_header Cache-Control "public, max-age=3600";
    }
}